<p>Сегодня столкнулся со следующей проблемой: нужно было написать XML-RPC сервер API для удаленного постинга сообщений, а также трахбаков, пингбаков (пока еще не реализовано, камментов то нету) и прочих wordpress-подобных приблуд. Задача оказалось не из простых даже при наличии в моем милом-любимом <a href="http://codeigniter.com/" target="_self">Codeigniter</a> отличного враппера родного для php <a href="http://www.php.net/xmlrpc" target="_self">xmlrpc</a> модуля. Но этот пост уже пишу из <a href="http://www.bytescout.com/post2blog.html" target="_self">Bytescout Post2Blog</a>, а значит "всьо чотко". Вот как это выглядит на <a href="http://www.flickr.com/photos/28439677@N08/2653270774/" target="_self">фликре</a>.</p><p>Вообще существует много версий API для "оффлайнового блогинга", это <a href="http://www.livejournal.com/doc/server/ljp.csp.xml-rpc.protocol.html" target="_self">livejournal api</a>, это <a href="http://code.google.com/apis/blogger/" target="_self">blogger api</a>, это <a href="http://www.xmlrpc.com/metaWeblogApi" target="_self">metaweblog api</a> и наконец <a href="http://www.sixapart.com/developers/xmlrpc/movable_type_api/" target="_self">movable type api</a>. По крайней мере, это все что я нашел, возможно существуют и другие. Интерфейс Жажы очень прост: не поддерживает постинг с категориями, зато нагружен всякими функциями френдов и их френдлент, что нам совершенно не нужно. Blogger же, до покупки его гуглом, предоставлял очень мощный и в то же время, очень простой протокол. Документацию по старым версиям <a href="http://www.blogger.com/developers/api/documentation20.html" target="_self">можно посмотреть</a>. После поглощения гугл-империалист переделал всю авторизацию и протокол под свой <a href="http://code.google.com/apis/gdata/" target="_self">GData</a>, который хоть и самый защищенный благодаря всяким токенам, auth чексумам, api ключам, но в то же время поедает мозг своей монструозностью столовыми ложками. На php шла правда готовая библиотека, но шла под Zend, а значит и этот вариант отпал. </p><p>Остались метаблог vs. мувабл тайп. Выбор сделал в сторону первого. Хотя бы потому что он поддерживается всеми клиентами и для виндовса, и для линукса, и для макоса. А вот второй таким похвастаться уже не может. Следующим этапом был поиск документации, <a href="http://www.xmlrpc.com/metaWeblogApi" target="_self">официальный</a> мануал нихрена не понятен: нету примеров запросов и ответов, все это написано не техническим языком, разговоры о жизни, смерти и волшебном стандарте RSS. Отличная документация была найдена на <a href="http://msdn.microsoft.com/en-us/library/bb259697.aspx" target="_self">MSDN</a> и это, пожалуй, впервые на моей памяти, когда док от майкрософта оказался полезным. </p><p>В итоге получился новый <a href="/xmlrpc" target="_self">контроллер</a>, работоспособность которого вы и можете наблюдать. Код, как обычно, можно посмотреть в <a href="http://code.google.com/p/coffe-stain-blog/source/browse/trunk/application/blog/controllers/xmlrpc.php" target="_self">google project</a>.</p>