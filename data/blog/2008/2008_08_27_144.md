Вчера пришел наконец-то заказанный на <a href="http://cgi.ebay.com/ws/eBayISAPI.dll?ViewItem&ssPageName=STRK:MEWNX:IT&item=130244924998">eBay</a> USB GPS ресивер Royaltek RGM-2000 (<a href="http://picasaweb.google.com/solarzine/SceGdF/photo#5239268947092397202">фото</a>). Достаточно пожилой, но вполне подходящий для превращения ноутбука в простенький навигатор. Сразу же захотелось сконнектить его с <a href="/blog/142.html">ноутбуком</a> на котором, напомню, установлена модификаий fedora 8, <a href="http://www.linpus.com/xampp/webmaster/Products/Linux9.4Lite.htm">linux linpus lite</a>. То, что это будет забавно. было понятно уже заранее. После коннекта к usb порту <span style="font-style: italic;">dmesg</span> выдал стандартное <span style="font-style: italic;">usb1-1: configuration #1 chosen from 1 choice</span>, что совершенно не порадовало. Тем не менее, на всякий случай проверил все <span style="font-style: italic;">/dev/ttys*</span> - к сожалению, каждый из них выдавал Input/output error. Далее заглянул в <span style="font-style: italic;">lsusb</span>, где увидел <span style="font-style: italic;">Bus 003 Device 002: ID 067b:2303 Prolific Technology, Inc. PL2303 Serial Port</span>. После долгих гуглокопаний оказалось, что сам GPS ресивер, как и все, использует serial port для вывода данных (что за анахронизм?), по нашему - COM, а соединяется с системой через Serial&lt;-&gt;USB присадку&nbsp;<a href="http://www.prolific.com.tw/eng/Products.asp?ID=59">Prolific 2303</a>. Пришлось пересобирать модули ядра для того что-бы получить это самый <span style="font-style: italic;">pl2303.ko</span>, активировав в menuconfig (<span style="font-style: italic;">Devices -&gt; Support for USB</span>) <span style="font-style: italic;">USB Serial Converter support</span>&nbsp;и модули <span style="font-style: italic;">USB Generic Serial Driver</span>, <span style="font-style: italic;">USB Prolific 2303 Single Port Serial Driver</span>. &nbsp;После обычного <span style="font-style: italic;">modprobe usbserial</span> и <span style="font-style: italic;">insmod pl2303.ko</span>, <span style="font-style: italic;">dmesg</span> уже радовал<span style="font-style: italic;"> usb 2-2: pl2303 converter now attached to ttyUSB0</span>. &nbsp;Вопрос, для чего я это все накатал? Да потому что, как оказалось, туева хуча различных "экзотических" устройств использует этот проклятый пролифик - начиная программаторами оборудования и заканчивая GPS-модулями. Что касается gpsd, то тут вообще был детский лепет. После установки gpsd и gpsd-clients сервер стартуется командой <span style="font-style: italic;">dpsd -b -D2 -N /dev/ttyUSB0</span>, либо же можно просто посмотреть статус приемника и координаты для ресиверов с чипом SiRF посредством <span style="font-style: italic;">sirfmon /dev/ttyUSB0</span>. Что касается самого GPS приложения, то пока не могу найти что-то более-менее симпатичное и поддерживающее хоть один из распространенных видов карт. Для тестирования и баловства может пригодится <a href="http://www.tangogps.org/">tangogps</a>, который выкачивает топографические либо спутниковые карты из интернета, умеет сохранять треки, просчитывать простейшую статистику маршрута и прочее. Под wine-ом, увы, ничего запустить не удалось, он почему-то категорически отказывался работать в режиме эмуляции с этим самым ttyUSB0. Будем искать.