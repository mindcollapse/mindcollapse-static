<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">

    <title>Бубен, gpsd, pl2303, linux, marlboro</title> 

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="jm8IGIWg4dsm0cTmih0sIVnUaWibc_hpOiQOlqb--9Y"> 
    <meta name="yandex-verification" content="4b85f46617ab1114"> 
    <meta name="y_key" content="04bed234d6a405cc"> 
    <meta name="msvalidate.01" content="62188F55275960794DDFA698C3EA9F05">

    <link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.ru">
    <link rel="sitemap" href="https://www.mindcollapse.com/blog/sitemap.xml">

    
        <link rel="canonical" href="https://www.mindcollapse.com/blog/144.html">

        
            <link rel="next" href="https://www.mindcollapse.com/blog/143.html">
        

        
            <link rel="prev" href="https://www.mindcollapse.com/blog/145.html">
        

        <meta property="og:title" content="Бубен, gpsd, pl2303, linux, marlboro">
        <meta property="og:description" content="Вчера пришел наконец-то заказанный на eBay USB GPS ресивер Royaltek RGM-2000 (фото). Достаточно пожилой, но вполне подходящий для превращения ноутбука в простенький навигатор. Сразу же захотелось сконнектить его с ноутбуком на котором, напомню, ...">
        <meta property="og:type" content="article">
        <meta property="og:site_name" content="mindcollapse.com">
        <meta property="og:url" content="https://www.mindcollapse.com/blog/144.html">

        <meta name="description" content="Вчера пришел наконец-то заказанный на eBay USB GPS ресивер Royaltek RGM-2000 (фото). Достаточно пожилой, но вполне подходящий для ...">

        <meta name="twitter:creator" content="@middlesizetit">
        <meta name="twitter:description" content="Вчера пришел наконец-то заказанный на eBay USB GPS ресивер Royaltek RGM-2000 (фото). Достаточно пожилой, но вполне подходящий для превращения ноутбука в простенький ...">
        <meta name="twitter:title" content="Бубен, gpsd, pl2303, linux, marlboro">

        
            <meta name="twitter:card" content="summary">
        
    

    <link rel="publisher" href="https://plus.google.com/110904145311662435301">
    <link rel="icon" href="https://www.mindcollapse.com/favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="alternate" type="application/atom+xml" title="RSS лента mindcollapse.com" href="https://www.mindcollapse.com/blog.xml"> 

    
        <link href="/static/compiled/blog.css?85fbe913" rel="stylesheet" media="all">
    

    
        <script type="text/javascript" async src="/static/compiled/blog.js?06c0e12a"></script>
    

    <!--[if lt IE 9]>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.3.0/respond.js"></script>
    <![endif]-->
</head>

<body class="mindcollapse">
    <main class="container">
        <header class="header navbar navbar-default hidden-print">
            <nav class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".blogmenu">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>

                <a href="/" class="navbar-brand">Владимир Смирнов</a>
            </nav>

            <nav class="collapse navbar-collapse blogmenu" role="navigation">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="/">Блог</a></li>
                    <li ><a href="/blog/archive/">Архив</a></li>
                    <li><a target="_blank" href="/moho/">Кино</a></li>
                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li><a target="_blank" href="http://www.twitter.com/middlesizetit">Twitter</a></li>
                    <li><a target="_blank" href="https://github.com/mindcollapse">GitHub</a></li>
                    <li><a href="https://www.mindcollapse.com/blog.xml">RSS</a></li>
                </ul>
            </nav>
        </header>

        
    <article class="article hentry" itemscope itemtype="http://schema.org/Article" role="main">
        <div class="content_header clearfix">
            <div itemprop="name" class="entry-title pull-left">
                <h1><a itemprop="url" href="https://www.mindcollapse.com/blog/144.html">Бубен, gpsd, pl2303, linux, marlboro</a></h1>
            </div>

            <div class="published pull-right">
                <time itemprop="datePublished" datetime="2008-08-27T00:00:00Z" class="text-muted updated">27 августа 2008 г.</time>
            </div>

            <div class="vcard author hidden">
                <a itemprop="author" class="url fn" href="http://www.mindcollapse.com/">Vladimir Smirnov</a>
            </div>
        </div>

        <hr class="first">

        <div itemprop="description" class="entry-content content">
            Вче­ра при­шел на­ко­нец-то за­ка­зан­ный на <a href="http://cgi.ebay.com/ws/eBayISAPI.dll?ViewItem&amp;ssPageName=STRK:MEWNX:IT&amp;item=130244924998">eBay</a> USB GPS ре­си­вер Royaltek RGM-2000 (<a href="http://picasaweb.google.com/solarzine/SceGdF/photo#5239268947092397202">фо­то</a>). До­ста­точ­но по­жи­лой, но впол­не под­хо­дя­щий для пре­вра­ще­ния но­ут­бу­ка в про­стень­кий на­ви­га­тор. Сра­зу же за­хо­те­лось скон­нек­тить его с <a href="/blog/142.html">но­ут­бу­ком</a> на ко­то­ром, на­по­мню, уста­нов­ле­на мо­ди­фи­ка­ий fedora 8, <a href="http://www.linpus.com/xampp/webmaster/Products/Linux9.4Lite.htm">linux linpus lite</a>. То, что это бу­дет за­бав­но. бы­ло по­нят­но уже за­ра­нее. По­сле кон­нек­та к usb пор­ту <span style="font-style: italic;">dmesg</span> вы­дал стан­дарт­ное <span style="font-style: italic;">usb1-1: configuration #1 chosen from 1 choice</span>, что со­вер­шен­но не по­ра­до­ва­ло. Тем не ме­нее, на вся­кий слу­чай про­ве­рил все <span style="font-style: italic;">/dev/ttys*</span> - к со­жа­ле­нию, каж­дый из них вы­да­вал Input/output error. Да­лее за­гля­нул в <span style="font-style: italic;">lsusb</span>, где уви­дел <span style="font-style: italic;">Bus 003 Device 002: ID 067b:2303 Prolific Technology, Inc. PL2303 Serial Port</span>. По­сле дол­гих гугло­ко­па­ний ока­за­лось, что сам GPS ре­си­вер, как и все, ис­поль­зу­ет serial port для вы­во­да дан­ных (что за ана­хро­низм?), по на­ше­му - COM, а со­еди­ня­ет­ся с си­сте­мой че­рез Serial&lt;-&gt;USB при­сад­ку&nbsp;<a href="http://www.prolific.com.tw/eng/Products.asp?ID=59">Prolific 2303</a>. При­шлось пе­ре­со­би­рать мо­ду­ли ядра для то­го что-бы по­лу­чить это са­мый <span style="font-style: italic;">pl2303.ko</span>, ак­ти­ви­ро­вав в menuconfig (<span style="font-style: italic;">Devices -&gt; Support for USB</span>) <span style="font-style: italic;">USB Serial Converter support</span>&nbsp;и мо­ду­ли <span style="font-style: italic;">USB Generic Serial Driver</span>, <span style="font-style: italic;">USB Prolific 2303 Single Port Serial Driver</span>. &nbsp;По­сле обыч­но­го <span style="font-style: italic;">modprobe usbserial</span> и <span style="font-style: italic;">insmod pl2303.ko</span>, <span style="font-style: italic;">dmesg</span> уже ра­до­вал<span style="font-style: italic;"> usb 2-2: pl2303 converter now attached to ttyUSB0</span>. &nbsp;Во­прос, для че­го я это все на­ка­тал? Да по­то­му что, как ока­за­лось, ту­е­ва ху­ча раз­лич­ных "эк­зо­ти­че­ских" устройств ис­поль­зу­ет этот про­кля­тый про­ли­фик - на­чи­ная про­грам­ма­то­ра­ми обо­ру­до­ва­ния и за­кан­чи­вая GPS-мо­ду­ля­ми. Что ка­са­ет­ся gpsd, то тут во­об­ще был дет­ский ле­пет. По­сле уста­нов­ки gpsd и gpsd-clients сер­вер стар­ту­ет­ся ко­ман­дой <span style="font-style: italic;">dpsd -b -D2 -N /dev/ttyUSB0</span>, ли­бо же мож­но про­сто по­смот­реть ста­тус при­ем­ни­ка и ко­ор­ди­на­ты для ре­си­ве­ров с чи­пом SiRF по­сред­ством <span style="font-style: italic;">sirfmon /dev/ttyUSB0</span>. Что ка­са­ет­ся са­мо­го GPS при­ло­же­ния, то по­ка не мо­гу най­ти что-то бо­лее-ме­нее сим­па­тич­ное и под­дер­жи­ва­ю­щее хоть один из рас­про­стра­нен­ных ви­дов карт. Для те­сти­ро­ва­ния и ба­лов­ства мо­жет при­го­дит­ся <a href="http://www.tangogps.org/">tangogps</a>, ко­то­рый вы­ка­чи­ва­ет то­по­гра­фи­че­ские ли­бо спут­ни­ко­вые кар­ты из ин­тер­не­та, уме­ет со­хра­нять тре­ки, про­счи­ты­вать про­стей­шую ста­ти­сти­ку марш­ру­та и про­чее. Под wine-ом, увы, ни­че­го за­пу­стить не уда­лось, он по­че­му-то ка­те­го­ри­че­ски от­ка­зы­вал­ся ра­бо­тать в ре­жи­ме эму­ля­ции с этим са­мым ttyUSB0. Бу­дем ис­кать.
        </div>
    </article>

    <hr>

    <footer class="footer hidden-print">
        <p>Что делать, если вы все прочитали и вам понравилось? Можете посмотреть мои остальные статьи в <a href="/blog/archive/">архиве</a> или поделиться радостью со своими воображаемыми друзьями в социальных сетях: <span class="social"><a target="_blank" href="http://www.facebook.com/sharer.php?u=https%3A//www.mindcollapse.com/blog/144.html">фейсбук</a>, <a target="_blank" href="http://twitter.com/share?url=https%3A//www.mindcollapse.com/blog/144.html&amp;text=%D0%91%D1%83%D0%B1%D0%B5%D0%BD%2C%20gpsd%2C%20pl2303%2C%20linux%2C%20marlboro&amp;via=middlesizetit">твиттер</a>, <a target="_blank" href="http://vkontakte.ru/share.php?url=https%3A//www.mindcollapse.com/blog/144.html">вконтакте</a></span>.</p>
    </footer>

    </main>   
</body>

</html>