<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">

    <title>Linux: оптимизируем SSD</title> 

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="jm8IGIWg4dsm0cTmih0sIVnUaWibc_hpOiQOlqb--9Y"> 
    <meta name="yandex-verification" content="4b85f46617ab1114"> 
    <meta name="y_key" content="04bed234d6a405cc"> 
    <meta name="msvalidate.01" content="62188F55275960794DDFA698C3EA9F05">

    <link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.ru">
    <link rel="sitemap" href="https://www.mindcollapse.com/blog/sitemap.xml">

    
        <link rel="canonical" href="https://www.mindcollapse.com/blog/159.html">

        
            <link rel="next" href="https://www.mindcollapse.com/blog/158.html">
        

        
            <link rel="prev" href="https://www.mindcollapse.com/blog/160.html">
        

        <meta property="og:title" content="Linux: оптимизируем SSD">
        <meta property="og:description" content="Самой негативной стороной SSD, как я и писал ранее, является чрезвычайно низкая скорость работы, а в частности - записи. Тех среднестатистических 8-10 mbit\s катастрофически не хватает для нормального функционирования системы, которая из-за этого ...">
        <meta property="og:type" content="article">
        <meta property="og:site_name" content="mindcollapse.com">
        <meta property="og:url" content="https://www.mindcollapse.com/blog/159.html">

        <meta name="description" content="Самой негативной стороной SSD, как я и писал ранее, является чрезвычайно низкая скорость работы, а в частности - записи. Тех ...">

        <meta name="twitter:creator" content="@middlesizetit">
        <meta name="twitter:description" content="Самой негативной стороной SSD, как я и писал ранее, является чрезвычайно низкая скорость работы, а в частности - записи. Тех среднестатистических 8-10 mbit\s ...">
        <meta name="twitter:title" content="Linux: оптимизируем SSD">

        
            <meta name="twitter:card" content="summary">
        
    

    <link rel="publisher" href="https://plus.google.com/110904145311662435301">
    <link rel="icon" href="https://www.mindcollapse.com/favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="alternate" type="application/atom+xml" title="RSS лента mindcollapse.com" href="https://www.mindcollapse.com/blog.xml"> 

    
        <link href="/static/compiled/blog.css?85fbe913" rel="stylesheet" media="all">
    

    
        <script type="text/javascript" src="/static/compiled/blog.js?06c0e12a"></script>
    

    <!--[if lt IE 9]>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.3.0/respond.js"></script>
    <![endif]-->
</head>

<body class="mindcollapse">
    <main class="container">
        <header class="header navbar navbar-default hidden-print">
            <nav class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".blogmenu">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>

                <a href="/" class="navbar-brand">Владимир Смирнов</a>
            </nav>

            <nav class="collapse navbar-collapse blogmenu" role="navigation">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="/">Блог</a></li>
                    <li ><a href="/blog/archive/">Архив</a></li>
                    <li><a target="_blank" href="/moho/">Кино</a></li>
                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li><a target="_blank" href="http://www.twitter.com/middlesizetit">Twitter</a></li>
                    <li><a target="_blank" href="https://github.com/mindcollapse">GitHub</a></li>
                    <li><a href="https://www.mindcollapse.com/blog.xml">RSS</a></li>
                </ul>
            </nav>
        </header>

        
    <article class="article hentry" itemscope itemtype="http://schema.org/Article" role="main">
        <div class="content_header clearfix">
            <div itemprop="name" class="entry-title pull-left">
                <h1><a itemprop="url" href="https://www.mindcollapse.com/blog/159.html">Linux: оптимизируем SSD</a></h1>
            </div>

            <div class="published pull-right">
                <time itemprop="datePublished" datetime="2008-10-27T00:00:00Z" class="text-muted updated">27 октября 2008 г.</time>
            </div>

            <div class="vcard author hidden">
                <a itemprop="author" class="url fn" href="http://www.mindcollapse.com/">Vladimir Smirnov</a>
            </div>
        </div>

        <hr class="first">

        <div itemprop="description" class="entry-content content">
            Са­мой не­га­тив­ной сто­ро­ной SSD, как я и пи­сал <a href="/blog/149.html">ра­нее</a>, яв­ля­ет­ся чрез­вы­чай­но низ­кая ско­рость ра­бо­ты, а в част­но­сти - за­пи­си. Тех сред­не­ста­ти­сти­че­ских 8-10 mbit\s ка­та­стро­фи­че­ски не хва­та­ет для нор­маль­но­го функ­ци­о­ни­ро­ва­ния си­сте­мы, ко­то­рая из-за это­го пе­ри­о­ди­че­ски ухо­дит в пол­ный аут, све­тя ди­о­дом об­ра­ще­ния к дис­ку. Имен­но по­это­му я по­пы­та­юсь рас­ска­зать, как на­стро­ить си­сте­му для бо­лее-ме­нее ком­форт­ной ра­бо­ты. Ча­стич­но все ин­струк­ции бы­ли на­гло укра­де­ны.Пер­вый мод дол­жен быть ап­па­рат­ным - нам нуж­но уве­ли­чить ко­ли­че­ство си­стем­ной па­мя­ти до 1 GB и бо­лее, в за­ви­си­мо­сти от ис­поль­зу­е­мой на­ми ОС. Для стан­дарт­ной уста­нов­ки Ubuntu Hardy мне ком­форт­но хва­та­ет 1.5 GB на мо­ем <a href="/blog/142.html">нет­бу­ке</a>, 60 про­цен­тов ко­то­рых про­ста­и­ва­ют. Пер­вым де­лом кон­вер­ти­ру­ем основ­ной раз­дел в ext2, жур­на­ли­ру­е­мые фай­ло­вые си­сте­мы с ве­ре­ни­цей не­нуж­ных опе­ра­ций за­пи­си нам ни к че­му. По­дроб­ный ма­ну­ал "а как это сде­лать" <a href="http://www.aspireoneuser.com/forum/viewtopic.php?f=5&amp;t=164&amp;st=0&amp;sk=t&amp;sd=a&amp;start=10#p1177">мож­но про­чи­тать</a>. Да­лее де­ла­ем то, ра­ди че­го мы рас­ко­ше­ли­лись на лиш­ний SO-DIMM мо­дуль: от­клю­ча­ем свап, уда­лив со­от­вет­ству­ю­щий раз­дел в /etc/fstab и до­ба­вив vm.swappiness = 0 в /etc/sysctl.conf. Пе­ре­за­гру­жа­ем­ся и чув­ству­ем боль­шую раз­ни­цу, но нам все ма­ло! Це­ле­со­об­раз­ным бу­дет вы­не­се­ние /var/log, /tmp и /var/tmp в tmpfs, пе­ре­ме­стив их с мед­лен­но­го дис­ка в от­но­си­тель­но бы­струю опе­ра­тив­ную па­мять. Мон­ти­ру­ем дан­ные ди­рек­то­рии в fstab. Ми­ну­сом дан­но­го ме­то­да яв­ля­ет­ся уте­ря всех ло­гов по­сле пе­ре­за­груз­ки, а не­ко­то­рые при­ло­же­ния от­ка­жут­ся за­пус­кать­ся ли­бо же бу­дут за­дал­бы­вать ер­ро­ра­ми и но­тай­са­ми, со­слав­шись на от­сут­ствие пап­ки их ло­гов, со­здан­ной при уста­нов­ке. Ре­ша­ет­ся это до­бав­ле­ни­ем не­об­хо­ди­мо­го mkdir в ~/.profile, на­при­мер. Даль­ше по­экс­пе­ри­мен­ти­ру­ем еще не­мно­го с си­стем­ны­ми па­ра­мет­ра­ми, как это опи­са­но <a href="https://help.ubuntu.com/community/AspireOne#/etc/sysctl.d/60-aspireone.conf">тут</a>. Не за­бы­ва­ем так­же до­ба­вить оп­цию elevator=noop в бут па­ра­мет­ры ядра /boot/grub/menu.lst и noatime в оп­ции фай­ло­вой си­сте­мы - за­пись вре­ме­ни до­сту­па к фай­лу это про­сто лиш­няя тра­та дис­ко­во­го вре­ме­ни.Не­пло­хой иде­ей бу­дет вы­не­се­ние /home ди­рек­то­рии на SD кар­ту, что уве­ли­чит жиз­нен­ный срок ва­ше­го твер­до­тель­но­го на­ко­пи­те­ля, а еще не по­ме­ша­ет от­клю­че­ние дис­ко­во­го ке­ша firefox в about:config. По­сле вы­ше­при­ве­ден­ных опе­ра­ций мы по­лу­чим ОС, ра­бо­та ко­то­рой не бу­дет на­по­ми­нать по­ша­го­вую стра­те­гию.
        </div>
    </article>

    <hr>

    <footer class="footer hidden-print">
        <p>Что делать, если вы все прочитали и вам понравилось? Можете посмотреть мои остальные статьи в <a href="/blog/archive/">архиве</a> или поделиться радостью со своими воображаемыми друзьями в социальных сетях: <span class="social"><a target="_blank" href="http://www.facebook.com/sharer.php?u=https%3A//www.mindcollapse.com/blog/159.html">фейсбук</a>, <a target="_blank" href="http://twitter.com/share?url=https%3A//www.mindcollapse.com/blog/159.html&amp;text=Linux%3A%20%D0%BE%D0%BF%D1%82%D0%B8%D0%BC%D0%B8%D0%B7%D0%B8%D1%80%D1%83%D0%B5%D0%BC%20SSD&amp;via=middlesizetit">твиттер</a>, <a target="_blank" href="http://vkontakte.ru/share.php?url=https%3A//www.mindcollapse.com/blog/159.html">вконтакте</a></span>.</p>
    </footer>

    </main>   
</body>

</html>