<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">

    <title>JS + PHP инкрементор чего-либо</title> 

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="jm8IGIWg4dsm0cTmih0sIVnUaWibc_hpOiQOlqb--9Y"> 
    <meta name="yandex-verification" content="4b85f46617ab1114"> 
    <meta name="y_key" content="04bed234d6a405cc"> 
    <meta name="msvalidate.01" content="62188F55275960794DDFA698C3EA9F05">

    <link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.ru">
    <link rel="sitemap" href="https://www.mindcollapse.com/blog/sitemap.xml">

    
        <link rel="canonical" href="https://www.mindcollapse.com/blog/138.html">

        
            <link rel="next" href="https://www.mindcollapse.com/blog/137.html">
        

        
            <link rel="prev" href="https://www.mindcollapse.com/blog/139.html">
        

        <meta property="og:title" content="JS + PHP инкрементор чего-либо">
        <meta property="og:description" content="На многих ресурсах стало популярным размещать информацию по типу &#34;на нашем сайте зарегестрировано 17.128.345 пользователей&#34;, либо &#34;мы предоставляем 6990.1569 МБ для вашего почтового ящика&#34;. При чем данная информация обновляется на странице в реальном ...">
        <meta property="og:type" content="article">
        <meta property="og:site_name" content="mindcollapse.com">
        <meta property="og:url" content="https://www.mindcollapse.com/blog/138.html">

        <meta name="description" content="На многих ресурсах стало популярным размещать информацию по типу &#34;на нашем сайте зарегестрировано 17.128.345 пользователей&#34;, либо ...">

        <meta name="twitter:creator" content="@middlesizetit">
        <meta name="twitter:description" content="На многих ресурсах стало популярным размещать информацию по типу &#34;на нашем сайте зарегестрировано 17.128.345 пользователей&#34;, либо &#34;мы предоставляем 6990.1569 МБ для ...">
        <meta name="twitter:title" content="JS + PHP инкрементор чего-либо">

        
            <meta name="twitter:card" content="summary">
        
    

    <link rel="publisher" href="https://plus.google.com/110904145311662435301">
    <link rel="icon" href="https://www.mindcollapse.com/favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="alternate" type="application/atom+xml" title="RSS лента mindcollapse.com" href="https://www.mindcollapse.com/blog.xml"> 

    
        <link href="/static/compiled/blog.css?626b399d" rel="stylesheet" media="all">
    

    
        <script type="text/javascript" async src="/static/compiled/blog.js?c6c1320e"></script>
    

    <!--[if lt IE 9]>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.3.0/respond.js"></script>
    <![endif]-->
</head>

<body class="mindcollapse">
    <main class="container">
        <header class="header navbar navbar-default hidden-print">
            <nav class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".blogmenu">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>

                <a href="/" class="navbar-brand">Владимир Смирнов</a>
            </nav>

            <nav class="collapse navbar-collapse blogmenu" role="navigation">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="/">Блог</a></li>
                    <li ><a href="/blog/archive/">Архив</a></li>
                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li><a target="_blank" href="https://twitter.com/middlesizetit">Twitter</a></li>
                    <li><a target="_blank" href="https://github.com/mindcollapse">GitHub</a></li>
                    <li><a href="https://www.mindcollapse.com/blog.xml">RSS</a></li>
                </ul>
            </nav>
        </header>

        
    <article class="article hentry" itemscope itemtype="http://schema.org/Article" role="main">
        <div class="content_header clearfix">
            <div itemprop="name" class="entry-title pull-left">
                <h1><a itemprop="url" href="https://www.mindcollapse.com/blog/138.html">JS + PHP инкрементор чего-либо</a></h1>
            </div>

            <div class="published pull-right">
                <time itemprop="datePublished" datetime="2008-08-02T00:00:00Z" class="text-muted updated">08 August, 2008</time>
            </div>

            <div class="vcard author hidden">
                <a itemprop="author" class="url fn" href="http://www.mindcollapse.com/">Vladimir Smirnov</a>
            </div>
        </div>

        <hr class="first">

        <div itemprop="description" class="entry-content content">
            На мно­гих ре­сур­сах ста­ло по­пу­ляр­ным раз­ме­щать ин­фор­ма­цию по ти­пу "на на­шем сайте за­ре­ге­стри­ро­ва­но 17.128.345 поль­зо­ва­телей", ли­бо "мы предо­став­ляем 6990.1569 МБ для ва­ше­го по­что­во­го ящи­ка". При чем дан­ная ин­фор­ма­ция об­нов­ляет­ся на стра­ни­це в ре­аль­ном вре­ме­ни (напри­мер - <a href="http://gmail.com/">gmail</a>, <a href="http://vkontakte.ru">vkontakte</a>). Дан­ный трюк яв­ляет­ся пер­вокласс­ной завле­ка­лов­кой, ко­то­рая ра­с­чи­та­на преж­де всего на стад­ный инстинкт ("а я шо, ле­вый?") или при­род­ную жад­ность (ра­ци­о­наль­ность, ага) че­ло­ве­ка - в за­ви­си­мо­сти от смыс­ла тек­ста.На сво­ем сайте подоб­ное мож­но ре­а­ли­зо­вать дву­мя спосо­ба­ми. Пер­вый это AJAX. Ва­ри­ант до­ста­точ­но не­пло­хой, точ­ный, но со­зда­ет лиш­ние запро­сы к сер­ве­ру. И вто­рой - с по­мо­щью JS. Тут то­же есть два пу­ти: если ин­кре­мен­тор ста­ти­че­ский (к при­ме­ру каж­дую ми­ну­ту до­бав­лять поль­зо­ва­те­лю в ак­каунт по 10 КБ без из­ме­не­ний), то до­ста­точ­но од­но­го JS скрип­та. Если же он ди­на­ми­че­ский, то тут не обой­тись без server-side, ведь при его из­ме­не­нии (пере­счет ко­ли­че­ства реги­стра­ций, уста­нов­ка еще па­ру де­сят­ков дис­ков в мас­сив) бу­дет пол­но­стью пере­счи­ты­вать­ся чис­ло, что бу­дет до­ста­точ­но за­мет­ным, осо­бен­но при умень­ше­нии ко­эф­фи­ци­ен­та. Так вот, я на­пи­сал не­большой хел­пер, ко­то­рый по­мо­жет без лиш­них уси­лий ге­не­ри­ро­вать подоб­ные ти­ке­ры, хра­ня про­ме­жу­точ­ный ре­зультат в файло­вом ке­ше. Функ­ция counter_js ($increment, $routdto, $update_rate), где $increment - float, ну или integer, ко­то­рый до­бав­ляет­ся к те­ку­ще­му ре­зульта­ту каж­дую се­кун­ду; $routdto - ко­ли­че­ство чи­сел по­сле за­пя­той в ре­зульта­те; $update_rate - вре­мя об­нов­ле­ния ке­ша в се­кун­дах. При­мер мож­но по­смот­реть <a href="/media/etc/PHP/inc/">тут</a>, а ис­ход­ный код <a href="/media/etc/PHP/inc/source.phps">тут</a>. Все эле­мен­та­но про­сто.
        </div>
    </article>

    <hr>

    <footer class="footer hidden-print">
        <p>Что делать, если вы все прочитали и вам понравилось? Можете посмотреть мои остальные статьи в <a href="/blog/archive/">архиве</a> или поделиться ссылкой в <span class="social"><a target="_blank" href="http://www.facebook.com/sharer.php?u=https%3A//www.mindcollapse.com/blog/138.html">фейсбуке</a>, <a target="_blank" href="http://twitter.com/share?url=https%3A//www.mindcollapse.com/blog/138.html&amp;text=JS%20%2B%20PHP%20%D0%B8%D0%BD%D0%BA%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%BE%D1%80%20%D1%87%D0%B5%D0%B3%D0%BE-%D0%BB%D0%B8%D0%B1%D0%BE&amp;via=middlesizetit">твиттере</a> или <a target="_blank" href="http://vkontakte.ru/share.php?url=https%3A//www.mindcollapse.com/blog/138.html">в контакте</a></span>.</p>
    </footer>

    </main>
</body>

</html>