<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">

    <title>Show Forecast Google Chrome extension</title> 

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="jm8IGIWg4dsm0cTmih0sIVnUaWibc_hpOiQOlqb--9Y"> 
    <meta name="yandex-verification" content="4b85f46617ab1114"> 
    <meta name="y_key" content="04bed234d6a405cc"> 
    <meta name="msvalidate.01" content="62188F55275960794DDFA698C3EA9F05">

    <link rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.ru">
    <link rel="sitemap" href="https://www.mindcollapse.com/blog/sitemap.xml">

    
        <link rel="canonical" href="https://www.mindcollapse.com/blog/216.html">

        
            <link rel="next" href="https://www.mindcollapse.com/blog/215.html">
        

        
            <link rel="prev" href="https://www.mindcollapse.com/blog/217.html">
        

        <meta property="og:title" content="Show Forecast Google Chrome extension">
        <meta property="og:description" content="Приветствую. Сегодня я хочу представить свое первое расширение (самый дебильный перевод слова extension) для браузера Google Chrome. Я когда-то эту поделку гугла облил с ног до головы дерьмом, но времена изменились и теперь хром мой основной браузер дома, на ...">
        <meta property="og:type" content="article">
        <meta property="og:site_name" content="mindcollapse.com">
        <meta property="og:url" content="https://www.mindcollapse.com/blog/216.html">

        <meta name="description" content="Приветствую. Сегодня я хочу представить свое первое расширение (самый дебильный перевод слова extension) для браузера Google Chrome. Я ...">

        <meta name="twitter:creator" content="@middlesizetit">
        <meta name="twitter:description" content="Приветствую. Сегодня я хочу представить свое первое расширение (самый дебильный перевод слова extension) для браузера Google Chrome. Я когда-то эту поделку гугла облил с ног до ...">
        <meta name="twitter:title" content="Show Forecast Google Chrome extension">

        
            <meta name="twitter:card" content="summary">
        
    

    <link rel="publisher" href="https://plus.google.com/110904145311662435301">
    <link rel="icon" href="https://www.mindcollapse.com/favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="alternate" type="application/atom+xml" title="RSS лента mindcollapse.com" href="https://www.mindcollapse.com/blog.xml"> 

    
        <link href="/static/compiled/blog.css?626b399d" rel="stylesheet" media="all">
    

    
        <script type="text/javascript" async src="/static/compiled/blog.js?c6c1320e"></script>
    

    <!--[if lt IE 9]>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.3.0/respond.js"></script>
    <![endif]-->
</head>

<body class="mindcollapse">
    <main class="container">
        <header class="header navbar navbar-default hidden-print">
            <nav class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".blogmenu">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>

                <a href="/" class="navbar-brand">Владимир Смирнов</a>
            </nav>

            <nav class="collapse navbar-collapse blogmenu" role="navigation">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="/">Блог</a></li>
                    <li ><a href="/blog/archive/">Архив</a></li>
                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li><a target="_blank" href="https://twitter.com/middlesizetit">Twitter</a></li>
                    <li><a target="_blank" href="https://github.com/mindcollapse">GitHub</a></li>
                    <li><a href="https://www.mindcollapse.com/blog.xml">RSS</a></li>
                </ul>
            </nav>
        </header>

        
    <article class="article hentry" itemscope itemtype="http://schema.org/Article" role="main">
        <div class="content_header clearfix">
            <div itemprop="name" class="entry-title pull-left">
                <h1><a itemprop="url" href="https://www.mindcollapse.com/blog/216.html">Show Forecast Google Chrome extension</a></h1>
            </div>

            <div class="published pull-right">
                <time itemprop="datePublished" datetime="2010-02-25T00:00:00Z" class="text-muted updated">02 February, 2010</time>
            </div>

            <div class="vcard author hidden">
                <a itemprop="author" class="url fn" href="http://www.mindcollapse.com/">Vladimir Smirnov</a>
            </div>
        </div>

        <hr class="first">

        <div itemprop="description" class="entry-content content">
            При­вет­ствую. Се­год­ня я хо­чу пред­ста­вить свое пер­вое расши­ре­ние (са­мый де­биль­ный пере­вод сло­ва extension) для брау­зе­ра Google Chrome. Я <a href="/blog/145.html">когда-то</a> эту по­дел­ку гугла облил с ног до го­ло­вы дерь­мом, но вре­ме­на из­ме­ни­лись и те­перь хром мой основ­ной брау­зер до­ма, на ра­бо­те и да­же на iMac-е, где он за­ме­нил тор­моз­ной фа­ер­фокс с уродли­вым рен­де­ри­ном и род­ной Safari.<p></p><p>Но, бли­же к де­лу. День на­зад мне по­че­му-то стук­ну­ло на­пи­сать ка­кой-то extension. Идея при­шла са­ма со­бой, когда си­дя­щий за спи­ной то­ва­рищ (не ах­тунг) спро­сил, а когда же вый­дет но­вая се­рия Хау­са, ко­то­рую мож­но бы­ло бы по­смот­реть под пив­ко. По­гуглил - для хро­ма та­кой шту­ки не­бы­ло и вот за па­ру дней вы­ка­тил уже го­то­вую вер­сию. Про­шу лю­бить и жа­ло­вать, <a href="https://chrome.google.com/extensions/detail/iiincndbndnbgbljoebinmfphpakofkf">Show Forecast</a>. Про­стой ди­зайн, на­строй­ка за 10 се­кунд и у вас уже есть своя лич­ная про­граммка лю­би­мых се­ри­а­лов. Скрин­шо­ты, ссыл­ку на за­груз­ку и бо­лее по­дроб­ное опи­са­ние по­жно найти на <a href="https://chrome.google.com/extensions/detail/iiincndbndnbgbljoebinmfphpakofkf">стра­ни­це до­пол­не­ний</a> гугла. </p><p></p><p>Те­перь па­ра слов о тех­ни­че­ской ча­сти. Я, as always, по­пы­тал­ся вы­учить что-то но­вое. Как из­вест­но, все до­пол­не­ния для Chrome пи­шут­ся ба­наль­но на javascript + html. В по­дроб­но­сти про­цес­са я углуб­лять­ся не бу­ду, все и так от­лич­но рас­пи­са­но в <a href="http://code.google.com/chrome/extensions/docs.html">офи­ци­аль­ном ма­нуале</a>, про­сто па­ра слов об ин­терес­ных ве­щах. В драф­тах html5 по­яви­лись много но­во­го и ин­но­ва­ци­онно­го, а в том чис­ле и storage, ко­то­рый при­зван за­ме­нить ку­ки­сы для хра­не­ния дан­ных client-side. В хро­ме ре­а­ли­зо­ва­ны 2 под­си­сте­мы хра­не­ния: <a href="http://dev.w3.org/html5/webstorage/">web storage</a> (и то толь­ко localStorage в ви­де пере­мен­ной-мас­си­ва) и <a href="http://dev.w3.org/html5/webdatabase/">web database</a>. В де­та­ли пер­во­го углуб­лять­ся не бу­ду, это обыч­ное key-value хра­ни­ли­ще для integer и string (bool,float,double,array etc - все это по typeof в сто­ре­дже отда­ва­ло string), а вот вто­рой ме­ха­низм на­много ин­терес­нее, так как пред­став­ляет со­бой пол­но­цен­ный sqlite вну­три брау­зе­ра. Да-да, те­перь в js мож­но пи­сать запро­сы на язы­ке sql. Все это ре­а­ли­зо­ва­но на те­ку­щем эта­пе до­ста­точ­но сы­ро, тран­зак­ции в БД яв­ляют­ся ас­син­хрон­ны­ми без ва­ри­ан­тов. Ре­зультат про­сто отда­ет­ся в callback функ­цию. При­чи­на это­го по­нят­на - нам не нуж­ны за­ви­са­ния брау­зе­ра, но вот на­пи­са­ния ко­да с несколь­ки­ми по­сле­до­ва­тель­ны­ми запро­са­ми это услож­ня­ет и за­медля­ет. Код extension-а я отдель­но вы­кла­ды­вать не бу­ду, ко­му ин­терес­но - <a href="https://chrome.google.com/extensions/detail/iiincndbndnbgbljoebinmfphpakofkf">ка­чайте</a> crx файл, ме­няй­те расши­ре­ние на zip и смот­ри­те са­ми. Код по­ка очень грязный, если мне бу­дет и дальше это ин­терес­но, ли­бо же на на этот пла­гин бу­дет спрос, то не­пре­мен­но от­ре­фак­то­рю. В лю­бом слу­чае без это­го на те­ку­щей вер­сии пла­ни­ру­е­мую i18n ин­тер­на­ци­о­на­ли­за­цию бу­дет очень неу­доб­но вво­дить. Бу­дут во­про­сы, за­да­вайте без за­зре­ния со­ве­сти на <a href="https://chrome.google.com/extensions/detail/iiincndbndnbgbljoebinmfphpakofkf">стра­ни­це мо­ду­ля</a>.</p>
        </div>
    </article>

    <hr>

    <footer class="footer hidden-print">
        <p>Что делать, если вы все прочитали и вам понравилось? Можете посмотреть мои остальные статьи в <a href="/blog/archive/">архиве</a> или поделиться ссылкой в <span class="social"><a target="_blank" href="http://www.facebook.com/sharer.php?u=https%3A//www.mindcollapse.com/blog/216.html">фейсбуке</a>, <a target="_blank" href="http://twitter.com/share?url=https%3A//www.mindcollapse.com/blog/216.html&amp;text=Show%20Forecast%20Google%20Chrome%20extension&amp;via=middlesizetit">твиттере</a> или <a target="_blank" href="http://vkontakte.ru/share.php?url=https%3A//www.mindcollapse.com/blog/216.html">в контакте</a></span>.</p>
    </footer>

    </main>
</body>

</html>